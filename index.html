<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="utf-8">
    <title>変換ソフトをつくる</title>
</head>

<body>
    <p>
        HTML5でWebページを記述する上で最小の構成は次のようなものです。
    </p>
    <textarea id="roman"></textarea>
    <input type="button" value="変換" onclick="romanToHiragana()"><br>
    <textarea id="text">きょう,の,てんき</textarea>
    <input type="button" value="変換" onclick="buttonClick()"><br>
    <textarea id="result"></textarea>
    
    <script src="https://cdn.jsdelivr.net/npm/@koozaki/romaji-conv@2.0.18/dist/romaji-conv.js"></script>
    <script>

        function romanToHiragana() {
            let romaji = romajiConv(document.getElementById("roman").value);
            romaji = romaji.toHiragana();
            document.getElementById("text").value = romaji;
        }

        function buttonClick() {
            let text = document.getElementById("text").value;
            let URL = 'http://www.google.com/transliterate?langpair=ja-Hira|ja&text=' + text;
            fetch(URL)
                .then(response => response.text())
                .then(data => {
                    // ここにURLのデータを取得した時の処理
                    console.log(data);
                    document.getElementById("result").value = data;
                });
            console.log(text);
        }
    </script>
</body>

</html>